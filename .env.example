# =============================================================================
# PROJECT_BOT_SERVICE - Конфигурация переменных окружения
# =============================================================================
# 
# ИНСТРУКЦИЯ:
# 1. Скопируйте этот файл: cp env.example .env (Windows: Copy-Item env.example .env)
# 2. Заполните все переменные, помеченные как "ОБЯЗАТЕЛЬНО УСТАНОВИТЬ"
# 3. Остальные переменные можно оставить по умолчанию
#
# БЕЗОПАСНОСТЬ:
# - НЕ коммитьте .env файл в Git (должен быть в .gitignore)
# - Храните ключи в безопасном месте
# =============================================================================

# =============================================================================
# ОБЯЗАТЕЛЬНЫЕ КЛЮЧИ (требуется установить от вас)
# =============================================================================

# ОБЯЗАТЕЛЬНО УСТАНОВИТЬ: Токен Telegram-бота
# Получите от @BotFather: https://t.me/BotFather
# Инструкция: tests/SETUP_KEYS.md#2-bot_token-telegram
# Формат: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
BOT_TOKEN="Не заполнять тут"

# ОБЯЗАТЕЛЬНО УСТАНОВИТЬ: Ключ для межсервисной аутентификации
# Должен быть одинаковым во всех сервисах!
# Сгенерировать: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Или используйте любой строковый ключ (например: my-secret-api-key-12345)
SERVICE_API_KEY="Не заполнять тут"

# =============================================================================
# Google Sheets & Drive (опционально, но рекомендуется)
# =============================================================================

# ОБЯЗАТЕЛЬНО УСТАНОВИТЬ (если нужна синхронизация категорий):
# ID Google таблицы (строка между /d/ и /edit в URL)
# Инструкция: tests/SETUP_KEYS.md#4-google_sheet_id
# Пример: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms
GOOGLE_SHEET_ID="Не заполнять тут"

# ОБЯЗАТЕЛЬНО УСТАНОВИТЬ (если нужна работа с Google Sheets/Drive):
# JSON ключ сервисного аккаунта Google
# Инструкция: tests/SETUP_KEYS.md#3-google_service_account_json
# Вариант 1: Путь к файлу (рекомендуется для локальной разработки)
GOOGLE_SERVICE_ACCOUNT_FILE=

# Вариант 2: JSON строка (рекомендуется для Docker/CI)
# Скопируйте содержимое JSON файла сервисного аккаунта
# ВАЖНО: Используйте только ОДИН вариант (FILE или JSON), не оба!
GOOGLE_SERVICE_ACCOUNT_JSON="Не заполнять тут"

# Имена листов в Google таблице (можно оставить по умолчанию)
GOOGLE_CATEGORIES_SHEET=Categories
GOOGLE_REPORTING_SHEET=Reports

# =============================================================================
# База данных (можно оставить по умолчанию для Docker)
# =============================================================================

# Строки подключения к PostgreSQL (для Docker используются дефолтные значения)
# Если запускаете локально без Docker, укажите свои значения
DATABASE_URL_REQUESTS=postgresql+psycopg://bot_user:bot_pass@db_requests:5432/requests_service
DATABASE_URL_APPROVALS=postgresql+psycopg://bot_user:bot_pass@db_approvals:5432/approvals_service
DATABASE_URL_CATEGORIES=postgresql+psycopg://bot_user:bot_pass@db_categories:5432/categories_service

# Параметры подключения к БД (опционально)
DB_CONN_MAX_AGE=60
DB_SSL_REQUIRED=false

# =============================================================================
# Django настройки (можно оставить по умолчанию)
# =============================================================================

# Секретный ключ Django (для продакшена сгенерируйте новый!)
# Сгенерировать: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=super-secret-change-in-production

# Разрешенные хосты (для продакшена укажите конкретные домены)
DJANGO_ALLOWED_HOSTS=*

# Режим отладки (для продакшена установите false)
DJANGO_DEBUG=false

# =============================================================================
# URL-ы сервисов (можно оставить по умолчанию для Docker)
# =============================================================================

# URL-ы для межсервисного взаимодействия
# Для Docker используйте имена контейнеров (дефолтные значения)
# Для локального запуска используйте localhost
CATEGORIES_SERVICE_URL=http://categories_service:8001/api
REQUESTS_SERVICE_URL=http://requests_service:8000/api
APPROVALS_SERVICE_URL=http://approvals_service:8002/api
FILES_SERVICE_URL=http://files_service:8100
REPORTING_SERVICE_URL=http://reporting_service:8200

# =============================================================================
# Дополнительные настройки сервисов (опционально)
# =============================================================================

# Таймаут для approvals_service (секунды)
APPROVALS_SERVICE_TIMEOUT=15.0

# Включить/выключить approvals_service (true/false)
APPROVALS_SERVICE_ENABLED=true

# =============================================================================
# Примечания
# =============================================================================
#
# МИНИМАЛЬНАЯ КОНФИГУРАЦИЯ ДЛЯ ЗАПУСКА:
# - BOT_TOKEN (обязательно)
# - SERVICE_API_KEY (обязательно)
# - Остальное можно оставить по умолчанию
#
# ДЛЯ ПОЛНОЙ ФУНКЦИОНАЛЬНОСТИ:
# - GOOGLE_SHEET_ID (для синхронизации категорий)
# - GOOGLE_SERVICE_ACCOUNT_JSON или GOOGLE_SERVICE_ACCOUNT_FILE (для работы с Google)
#
# ПОДРОБНЫЕ ИНСТРУКЦИИ:
# - Получение ключей: tests/SETUP_KEYS.md
# - Запуск бота: BOT_SETUP.md
# - Быстрый старт: BOT_QUICK_START.md
#
# =============================================================================

